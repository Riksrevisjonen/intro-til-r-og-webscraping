---
title: "Hjemmeoppgave"
author: "FORNAVN ETTERNAVN"
date: "`r format(Sys.Date(), '%e. %B %Y')`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Oppgaver

1. **Innlesing av fil**
- Les inn datasettet `covid.xlsx` ved å bruke `readxl`-pakken. Tilordne datasettet et objekt når du leser det inn.

```{r}

```


2. **Inspisere datasettet**
- Se på de 10 øverste og nederste observasjonene (hint: `head()` og `tail()`)   
- Se på strukturen i datasettet (hint: `str()`)
  + Hvor mange observasjoner har datasettet?
- Hvilke verdier har variabelen `level`, og hva sier den noe om? (hint: `unique()`, `View()`)

```{r}

```

DINE SVAR PÅ OPPGAVEN HER

3. **Databehandling**
- Lag et nytt objekt `national` som kun inneholder data på nasjonalt nivå i Europa (hint: `df <- df[ , ]`).
  + Hvor mange observasjoner har datasettet nå?
- Hvor mange land er det data for? (hint: `unique()` og `length(unique())`)
- Hvor mange missingverdier er det i datasettet? (hint: `is.na()`, `table(is.na())`, `anyNA()`)
  + Hvilken variabel har missing data?

```{r}

```

DINE SVAR PÅ OPPGAVEN HER

4. **Deskriptivt statistikk**
- Hvilke land har høyeste og laveste verdi av `positivity_rate` i løpet av perioden, og i hvilke uker? (hint: `na.rm`-argumentet)
- Hva er gjennomsnittlig `positivity_rate` i løpet av perioden? 
- Hva er median `positivity_rate`?

```{r}

```

DINE SVAR PÅ OPPGAVEN HER

5. **Visualisere**
- Bruk aggregate-funksjonen for å aggregere data på samme måte som i kodesnutten under, men for **summen** av `new_cases`
- Lag en ny datovariabel `date` på samme måte som under (se forklaringen hvis du lurer på hva koden gjør)
- Plot sum av nye smittede per uke som et linjediagram (du kan bruke koden under som en mal for dette). Du kan både bruke formelobjektet og sette verdiene til X- og Y-aksen direkte. I eksempelet under bruker vi formelobjektet
- Hva kan være ulike årsaker til at det er så få `new_cases` i starten av observasjonsperioden? 
Ta gjerne også en titt på [Dokumentasjonen for datasettet](https://www.ecdc.europa.eu/sites/default/files/documents/2021-01-13_Variable_Dictionary_and_Disclaimer_weekly_testing_data_EUEEAUK.pdf)

```{r}
covid_sum <- aggregate(new_cases ~ year_week, data = national, FUN = sum)
start <- as.numeric(as.Date('2020-01-05'))
stop <- as.numeric(as.Date('2021-04-04'))
covid_sum$date <- as.Date(seq(start, stop, 7), origin = '1970-01-01')
plot(
  new_cases ~ date,
  data = covid_sum,
  xlab = 'Tid',
  ylab = 'Sum av nye smittede',
  type = 'l',
  col = 'red',
  lwd = 2)
```

```{r}

```

DINE SVAR PÅ OPPGAVEN HER
